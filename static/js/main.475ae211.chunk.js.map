{"version":3,"sources":["view/About.js","view/Catalog.js","view/PostContent.js","view/Post.js","view/Posts.js","App.js","index.js"],"names":["About","className","href","Component","Catalog","mdContent","this","props","htmlContent","toc","match","tables","map","item","level","split","length","title","replace","trim","forEach","index","_toc","PostContent","state","content","id","window","location","pathname","pop","marked","setOptions","highlight","code","hljs","highlightAuto","value","NProgress","start","fetch","then","resp","json","issue","renderContent","setState","done","body","created_at","substr","dangerouslySetInnerHTML","__html","onClick","html_url","Post","post","labels","label","path","to","date","Posts","posts","parseInt","data","filter","number","tag","name","url","substring","resolveId","fetchData","postItem","App","component","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.475ae211.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nclass About extends Component {\n  render() {\n    return (\n      <div className=\"article\">\n        <div>Contact me from :</div>\n        <br />\n        <ul>\n          <li>\n            <a href=\"mailto:kelyu0109@gmail.com\"> kelyu0109@gmail.com </a>\n          </li>\n\n          <li>\n            <a href=\"https://github.com/kelyu0\">GitHub</a>\n          </li>\n          <li>\n            <a href=\"https://www.linkedin.com/in/ke-lyu-638bb8141/\"> Linkedin </a>\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\nexport default About;\n","import React, { Component } from \"react\";\n\nexport default class Catalog extends Component {\n  render() {\n    const mdContent = this.props.mdContent;\n    let htmlContent = this.props.htmlContent;\n\n    const toc = mdContent.match(/#{1,6}\\s(.+)/g);\n    if (!toc) return null;\n    const tables = toc.map((item) => ({\n      level: item.split(\"#\").length - 1,\n      title: item.replace(/#{1,6}/, \"\").trim(),\n    }));\n\n    //给html中的h加id\n    let tocHtml = htmlContent.match(/<(h\\d).*?>.*?<\\/h\\d>/g);\n    tocHtml.forEach((item, index) => {\n      let _toc = `<div id='${tables[index].title}'>${item} </div>`;\n      htmlContent = htmlContent.replace(item, _toc);\n    });\n\n    return (\n      <aside className=\"catalog-container\">\n        {tables.map(({ level, title }, index) => (\n          <div key={index}>\n            <a className={\"article-catalog-h\" + level} href={\"#\" + title}>\n              {title}\n            </a>\n          </div>\n        ))}\n      </aside>\n    );\n  }\n}\n","import hljs from \"highlight.js\";\nimport \"highlight.js/styles/zenburn.css\";\nimport marked from \"marked\";\nimport NProgress from \"nprogress\";\nimport React, { Component } from \"react\";\nimport Catalog from \"./Catalog\";\n\nclass PostContent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      content: \"\",\n    };\n  }\n\n  componentDidMount() {\n    const path = window.location.pathname;\n    const id = path.split(\"/\").pop();\n\n    marked.setOptions({\n      highlight: (code) => hljs.highlightAuto(code).value,\n    });\n\n    NProgress.start();\n    fetch(`https://api.github.com/repos/kelyu0/articles/issues/${id}`)\n      .then((resp) => resp.json())\n      .then((issue) => {\n        const content = this.renderContent(issue);\n        this.setState({ content: content });\n      });\n    NProgress.done();\n  }\n\n  renderContent(issue) {\n    let htmlContent = marked(issue.body);\n\n    return (\n      <div className=\"content-layout\">\n        <Catalog mdContent={issue.body} htmlContent={htmlContent}></Catalog>\n        <div className=\"main-container\">\n          <a href=\"#top\" id=\"gotop-btn\">\n            Up\n          </a>\n          <div className=\"article\">\n            <article className=\"article \">\n              <h1 className=\"article-title\">{issue.title}</h1>\n              <p className=\"article-time\">{issue.created_at.substr(0, 10)}</p>\n              <div className=\"article-desc article-content\" dangerouslySetInnerHTML={{ __html: marked(issue.body) }} />\n            </article>\n            <div className=\"article\">\n              <button className=\"article-comment\" onClick={() => (window.location.href = issue.html_url)}>\n                Comment\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n  render() {\n    return <div>{this.state.content}</div>;\n  }\n}\n\nexport default PostContent;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nclass Post extends Component {\n  render() {\n    const post = this.props.post;\n    let labels = post.labels.map((label) => (\n      <span key={label} className=\"list-label\">\n        {label}\n      </span>\n    ));\n    let path = \"/posts/\" + post.id;\n    return (\n      <li className=\"list-post\">\n        <Link to={{ pathname: path }}>{post.title}</Link>\n        {labels}\n        <span className=\"date-long\">{post.date}</span>\n      </li>\n    );\n  }\n}\n\nexport default Post;\n","import NProgress from \"nprogress\";\nimport React, { Component } from \"react\";\nimport Post from \"./Post.js\";\n\nclass Posts extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { posts: [] };\n  }\n\n  resolveId(location) {\n    return parseInt(location.pathname.split(\"/\").pop());\n  }\n\n  fetchData() {\n    fetch(\"https://api.github.com/repos/kelyu0/articles/issues\")\n      .then((resp) => {\n        return resp.json();\n      })\n      .then((data) => {\n        const posts = data\n          .filter((item) => item.state === \"open\")\n          .map((item) => {\n            return {\n              id: item.number,\n              title: item.title,\n              labels: item.labels.map((tag) => tag.name),\n              url: item.html_url,\n              date: item.created_at.substring(0, 10),\n            };\n          });\n        this.setState({ posts: posts });\n      });\n  }\n\n  componentDidMount() {\n    this.id = this.resolveId(this.props.location);\n    NProgress.start();\n    this.fetchData();\n    NProgress.done();\n  }\n\n  render() {\n    const postItem = this.state.posts.map((post) => <Post key={post.id} post={post} />);\n    return (\n      <div className=\"list\">\n        <ul>{postItem}</ul>\n      </div>\n    );\n  }\n}\n\nexport default Posts;\n","import \"nprogress/nprogress.css\";\nimport React, { Component } from \"react\";\nimport { BrowserRouter as Router, Link, Route } from \"react-router-dom\";\n// import \"./css/fonts.css\";\nimport \"./css/index.css\";\n// import \"./css/layout.css\";\nimport \"./css/list.css\";\nimport \"./css/post.css\";\nimport \"./css/reset.css\";\nimport About from \"./view/About.js\";\nimport PostContent from \"./view/PostContent.js\";\nimport Posts from \"./view/Posts.js\";\n\nexport default class App extends Component {\n  render() {\n    return (\n      <Router>\n        <div>\n          <div className=\"navbar\">\n            <Link to=\"/\">Posts</Link>\n            <span> | </span>\n            <Link to=\"/about\">About</Link>\n          </div>\n          <Route path=\"/posts/:id\" component={PostContent} />\n          <Route exact path=\"/\" component={Posts} />\n          <Route path=\"/about\" component={About} />\n        </div>\n      </Router>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}